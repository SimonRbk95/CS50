{% extends "layout.html" %}

{% block title %}
    History
{% endblock %}

{% block main %}
<table class="table">
    <thead>
      <tr>
        <th scope="col">Symbol</th>
        <th scope="col">Quantity</th>
        <th scope="col">Price</th>
        <th scope="col">Transaction</th>
        <th scope="col">Order</th>
        <th scope="col">Date</th>
      </tr>
    </thead>
    <tbody>
     {% for t in transactions %}
      </tr>
        <th scope="row">{{t["symbol"]}}</th>
        <td>{{t["quantity"]|abs}}</td>
        <td>{{t["price"]}}</td>
        {% if t["quantity"] > 0 %}
        <td style="color: red">{{(-1)*(t["quantity"]*t["price"])|round(2, 'ceil')}}</td>
        <td>Buy</td>
        {% else %}
        <td style="color: green">{{(-1)*(t["quantity"]*t["price"])}}</td>
        <td>Sell</td>
        {% endif %}
        <td>{{t["Timestamp"]}}</td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
{% endblock %}